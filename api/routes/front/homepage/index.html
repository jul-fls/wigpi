<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Calendriers de cours EPSI</title>
        <script>
            console.warn = function () { };
        </script>
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" rel="stylesheet">
        <meta property="og:title" content="Calendriers de cours EPSI">
        <meta property="og:description" content="Calendriers de cours EPSI">
        <meta property="og:image" content="https://uimm89.fr/wp-content/uploads/2022/03/Logo-EPSI-baseline.png">
        <meta property="og:url" content="https://calendrier.epsi.fr">
        <meta property="og:site_name" content="Calendriers de cours EPSI">
        <meta property="og:type" content="website">
        <meta property="og:locale" content="fr_FR">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@epsi">
        <meta name="twitter:creator" content="@epsi">
        <meta name="twitter:title" content="Calendriers de cours EPSI">
        <meta name="twitter:description" content="Calendriers de cours EPSI">
        <meta name="twitter:image" content="https://uimm89.fr/wp-content/uploads/2022/03/Logo-EPSI-baseline.png">
        <meta name="twitter:image:alt" content="Calendriers de cours EPSI">
    </head>
    <body class="bg-gray-100 h-screen font-sans bg-gradient-to-r from-rose-600 via-orange-500 to-lime-500">
        <div class="container mx-auto px-4 flex items-center justify-center h-full">
            <div class="text-center">
                <h1 class="text-4xl font-bold text-gray-100 mb-4">Calendriers de cours EPSI</h1>
                <!--Comment out the classes link display-->
                <ul class="grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"></ul>
                <p class="text-xxl text-white bg-red-700 rounded-xl p-4 mt-8">
                    Nous rencontrons actuellement un problème avec notre fournisseur de données et nous prenons des mesures pour résoudre ces problèmes dès que possible.<br/>
                    Nous vous prions de nous excuser pour la gêne occasionnée.
                    <br/><br/>
                    Mise à jour du 14/05/2024 :
                    Nous sommes toujours en cours de résolution du problème. Néanmoins, nous sommes actuellement en train de tester une solution de contournement qui pourrait être mise en place dans les prochains jours.
                    <br /><br />
                    Mise à jour du 21/09/2024 : Nous avons mis en place une solution de contournement qui devrait vous permettre de consulter les données des cours. Nous vous prions de nous excuser pour la gêne occasionnée.
                    Si toutefois vous rencontrez des problèmes, n'hésitez pas à nous contacter.
                </p>
            </div>
        </div>
        <!-- Comment out the script that generates links to the classes -->
        <script>
            $json_classes = '{{classes}}';
            ul_element = document.querySelector('ul');
            classes = JSON.parse($json_classes);
            classes.forEach(function (classe) {
                li_element = document.createElement('li');
                li_element.classList.add("rounded-2xl","shadow-2xl","overflow-hidden","text-gray-800","font-sans","hover:bg-red-600","hover:shadow-lg","transition","duration-300","backdrop-filter","backdrop-blur-sm","hover:backdrop-blur-md");
                a_element = document.createElement('a');
                classe_url = document.location.origin.replace("https","webcals") + '/api/get_ics/' + classe.name;
                a_element.setAttribute('href', classe_url);
                a_element.setAttribute('class', 'bg-white shadow-md rounded-lg overflow-hidden text-gray-800 font-sans');
                div_element = document.createElement('div');
                div_element.setAttribute('class', 'px-6 py-4');
                div_element2 = document.createElement('div');
                div_element2.setAttribute('class', 'flex items-center mb-2');
                i_element = document.createElement('i');
                i_element.setAttribute('class', 'fas fa-calendar-alt fa-2x');
                colors = ['text-red-500', 'text-blue-500', 'text-green-500', 'text-yellow-500', 'text-purple-500', 'text-pink-500', 'text-indigo-500', 'text-gray-500'];
                i_element.classList.add(colors[Math.floor(Math.random() * colors.length)]);
                h2_element = document.createElement('h2');
                h2_element.setAttribute('class', 'text-xl font-bold ml-2 uppercase');
                h2_element.innerHTML = classe.name;
                p_element = document.createElement('p');
                p_element.setAttribute('class', 'text-gray-600 text-sm');
                p_element.innerHTML = classe.displayname;
                div_element2.appendChild(i_element);
                div_element2.appendChild(h2_element);
                div_element.appendChild(div_element2);
                div_element.appendChild(p_element);
                a_element.appendChild(div_element);
                li_element.appendChild(a_element);
                ul_element.appendChild(li_element);
            });
        </script>
    </body>
</html>
